<head>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <script>
   document.addEventListener('DOMContentLoaded', function() {

   })
     function onClose(){
      document.getElementById('drawer').classList.add('hidden');
     }
  </script>
</head>

<div
  id="drawer"
  class="fixed top-0 right-0 w-96 h-full bg-white shadow-2xl z-50 flex flex-col"
>
  <div class="flex items-center justify-between px-6 py-4 border-b">
    <h2 class="text-lg font-bold text-gray-900">Shopping Cart</h2>
    <button id="closeDrawerBtn" class="p-2 rounded-full hover:bg-gray-100 transition" onclick="onClose()">âœ•</button>
  </div>
  <div class="flex-1 overflow-y-auto px-6 py-4 ">
    <div id="cartGrid" class="space-y-4">
      {% if cart.item_count > 0 %}
        {% for item in cart.items %}
          <div class="flex items-center gap-4">
            <img
              src="{{ item.image | img_url: '100x100' }}"
              alt="{{ item.product.title }}" width="60" height="60"
            >
            <div class="flex-1">
              <div class="font-semibold">{{ item.product.title }}</div>
              <div class="text-sm text-gray-500">{{ item.variant.title }}</div>
              <div class="text-sm">Qty: {{ item.quantity }}</div>
            </div>
            <div class="font-bold">{{ item.final_line_price | money }}</div>
          </div>
        {% endfor %}
      {% else %}
        <p class="text-gray-500">Your cart is empty.</p>
      {% endif %}
    </div>
  </div>
  <div class="border-t border-gray-200 px-6 py-5 bg-gray-50">
    <div class="flex justify-between items-center text-base font-semibold text-gray-900">
      <p>Subtotal</p>
      <p id="subtotalPrice">{{ cart.items_subtotal_price | money }}</p>
    </div>
    <p class="mt-1 text-sm text-gray-500">Shipping and taxes calculated at checkout.</p>
    <button
      id="checkoutBtn"
      class="mt-6 w-full bg-black text-white py-3 text-sm tracking-wide hover:bg-gray-900 transition flex justify-center items-center gap-2"
    >
      Proceed to Checkout
    </button>
  </div>
</div>
